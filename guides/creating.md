---
layout: guide
title: Creating
permalink: creating/
excerpt: Start with an idea, end with a distributable package for unRAID
---


<p class="lead">
  Making a package is easy. This guide is broken into bite-size chunks and covers a lot in detail.
</p>

You can [get the code](https://github.com/nicinabox/boiler-hola) for this guide on Github.

### Getting started

You'll need:

* Github account
* Git installed
* Ruby 1.9.3 installed (RVM or rbenv can help with this)

If you're unfamiliar with using git, check out [Github’s articles](https://help.github.com/articles/set-up-git) to get started.

### Setup your dev machine

Clone the Boiler repo (we’ll clone to the ~/code directory here):

    mkdir -p ~/code && cd $_
    git clone https://github.com/nicinabox/boiler.git

Next, install the Boiler dependencies. This project uses RVM, so you may need to install the appropriate Ruby. Just follow the prompts.

    cd boiler
    bundle

Symlink `bin/boiler` so it’s in your path:

    ln -s `pwd`/bin/boiler /usr/local/bin/boiler

You should be all set to use the boiler commands. Test it out:

    boiler

### Creating

Back in your `~/code` directory, initialize a new package:

    boiler init boiler-hola

This will create a directory called `boiler-hola` with the following contents:

    boiler.json
    README.md

Move into the `boiler-hola` directory to check it out:

    cd boiler-hola
    ls

Let's create a git repo with what we've done so far.

    git init
    git add .
    git commit -m "Initial commit"

This is technically all you need to register your package, but let's add some more functionality first.

Create a simple configuration file at `config/hola.json`:

    {
      "name": "WRITE YOUR NAME HERE"
    }

You can have more than one config file, but it’s conventional to  use a json file named after your project.

Create a file at `bin/hola`:

```ruby
#!/usr/bin/env ruby
require 'json'

# No warnings
BEGIN { $VERBOSE = nil }

class Hola
  def initialize
    load_env_vars
    say_hello
  end

  def say_hello
    puts "Hello #{config['name']}, you're doing great!"
  end

# Code down here is for loading the config file
private

  def load_env_vars
    # This file is generated by boiler
    File.readlines("/usr/local/boiler/hola/env").each do |line|
      values = line.split("=")
      ENV[values[0]] = values[1]
    end if unraid?
  end

  def config
    # This env variable is generated by boiler
    # Reference the env path so you code is more
    # robust to changes.
    config_path = ENV['HOLA_CONFIG_PATH'] || 'config'
    @config ||= JSON.parse File.read "#{config_path}/hola.json"
  end

  # Just check if we're on unraid
  def unraid?
    /unraid/i =~ `uname -a`
  end
end

# Kick it off
Hola.new
```

We're just going to open the config file and use it to print a message to the screen. Nothing crazy. There are some extra checks for unRAID and config paths. We want to be able to test it on our machine locally, but also run on unRAID.

Let's make this file executable so we can try it out:

    chmod +x bin/hola

Then run it:

    bin/hola

You should see something like:

    Hello Nic, you're doing great!

So, now you should have a pretty basic directory structure:

    hola
      bin
        hola
      config
        hola.json
      boiler.json
      README.md

Now's a good time to commit the new stuff we added.

    git add .
    git commit -m "Add bin and config"
